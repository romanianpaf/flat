{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef, PureComponent } from 'react';\nimport { createPortal, flushSync } from 'react-dom';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nvar reactMajorVersion = parseInt(String(React.version).split('.')[0]);\nvar syncRenderingByDefault = reactMajorVersion < 18;\nvar FullCalendar = /*#__PURE__*/function (_Component) {\n  _inherits(FullCalendar, _Component);\n  var _super = _createSuper(FullCalendar);\n  function FullCalendar() {\n    var _this;\n    _classCallCheck(this, FullCalendar);\n    _this = _super.apply(this, arguments);\n    _this.elRef = createRef();\n    _this.isUpdating = false;\n    _this.isUnmounting = false;\n    _this.state = {\n      customRenderingMap: new Map()\n    };\n    _this.requestResize = function () {\n      if (!_this.isUnmounting) {\n        _this.cancelResize();\n        _this.resizeId = requestAnimationFrame(function () {\n          _this.doResize();\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(FullCalendar, [{\n    key: \"render\",\n    value: function render() {\n      var customRenderingNodes = [];\n      var _iterator = _createForOfIteratorHelper(this.state.customRenderingMap.values()),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var customRendering = _step.value;\n          customRenderingNodes.push(React.createElement(CustomRenderingComponent, {\n            key: customRendering.id,\n            customRendering: customRendering\n          }));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return React.createElement(\"div\", {\n        ref: this.elRef\n      }, customRenderingNodes);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var customRenderingStore = new CustomRenderingStore();\n      this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n      this.calendar = new Calendar(this.elRef.current, Object.assign(Object.assign({}, this.props), {\n        handleCustomRendering: this.handleCustomRendering\n      }));\n      this.calendar.render();\n      var lastRequestTimestamp;\n      customRenderingStore.subscribe(function (customRenderingMap) {\n        var requestTimestamp = Date.now();\n        var isMounting = !lastRequestTimestamp;\n        var runFunc =\n        // don't call flushSync if React version already does sync rendering by default\n        // guards against fatal errors:\n        // https://github.com/fullcalendar/fullcalendar/issues/7448\n        syncRenderingByDefault ||\n        //\n        isMounting || _this2.isUpdating || _this2.isUnmounting || requestTimestamp - lastRequestTimestamp < 100 // rerendering frequently\n        ? runNow // either sync rendering (first-time or React 16/17) or async (React 18)\n        : flushSync; // guaranteed sync rendering\n        runFunc(function () {\n          _this2.setState({\n            customRenderingMap: customRenderingMap\n          }, function () {\n            lastRequestTimestamp = requestTimestamp;\n            if (isMounting) {\n              _this2.doResize();\n            } else {\n              _this2.requestResize();\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.isUpdating = true;\n      this.calendar.resetOptions(Object.assign(Object.assign({}, this.props), {\n        handleCustomRendering: this.handleCustomRendering\n      }));\n      this.isUpdating = false;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.isUnmounting = true;\n      this.cancelResize();\n      this.calendar.destroy();\n    }\n  }, {\n    key: \"doResize\",\n    value: function doResize() {\n      this.calendar.updateSize();\n    }\n  }, {\n    key: \"cancelResize\",\n    value: function cancelResize() {\n      if (this.resizeId !== undefined) {\n        cancelAnimationFrame(this.resizeId);\n        this.resizeId = undefined;\n      }\n    }\n  }, {\n    key: \"getApi\",\n    value: function getApi() {\n      return this.calendar;\n    }\n  }]);\n  return FullCalendar;\n}(Component);\nexport { FullCalendar as default };\nFullCalendar.act = runNow; // DEPRECATED. Not leveraged anymore\nvar CustomRenderingComponent = /*#__PURE__*/function (_PureComponent) {\n  _inherits(CustomRenderingComponent, _PureComponent);\n  var _super2 = _createSuper(CustomRenderingComponent);\n  function CustomRenderingComponent() {\n    _classCallCheck(this, CustomRenderingComponent);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(CustomRenderingComponent, [{\n    key: \"render\",\n    value: function render() {\n      var customRendering = this.props.customRendering;\n      var generatorMeta = customRendering.generatorMeta;\n      var vnode = typeof generatorMeta === 'function' ? generatorMeta(customRendering.renderProps) : generatorMeta;\n      return createPortal(vnode, customRendering.containerEl);\n    }\n  }]);\n  return CustomRenderingComponent;\n}(PureComponent); // Util\n// -------------------------------------------------------------------------------------------------\nfunction runNow(f) {\n  f();\n}","map":{"version":3,"names":["React","Component","createRef","PureComponent","createPortal","flushSync","Calendar","CustomRenderingStore","reactMajorVersion","parseInt","String","version","split","syncRenderingByDefault","FullCalendar","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","elRef","isUpdating","isUnmounting","state","customRenderingMap","Map","requestResize","cancelResize","resizeId","requestAnimationFrame","doResize","_createClass","key","value","render","customRenderingNodes","_iterator","_createForOfIteratorHelper","values","_step","s","n","done","customRendering","push","createElement","CustomRenderingComponent","id","err","e","f","ref","componentDidMount","_this2","customRenderingStore","handleCustomRendering","handle","bind","calendar","current","Object","assign","props","lastRequestTimestamp","subscribe","requestTimestamp","Date","now","isMounting","runFunc","runNow","setState","componentDidUpdate","resetOptions","componentWillUnmount","destroy","updateSize","undefined","cancelAnimationFrame","getApi","default","act","_PureComponent","_super2","apply","arguments","generatorMeta","vnode","renderProps","containerEl"],"sources":["/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/@fullcalendar/react/src/index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef, PureComponent } from 'react'\nimport { createPortal, flushSync } from 'react-dom'\nimport {\n  CalendarOptions,\n  CalendarApi,\n  Calendar,\n} from '@fullcalendar/core'\nimport {\n  CustomRendering,\n  CustomRenderingStore,\n} from '@fullcalendar/core/internal'\n\nconst reactMajorVersion = parseInt(String(React.version).split('.')[0])\nconst syncRenderingByDefault = reactMajorVersion < 18\n\ninterface CalendarState {\n  customRenderingMap: Map<string, CustomRendering<any>>\n}\n\nexport default class FullCalendar extends Component<CalendarOptions, CalendarState> {\n  static act = runNow // DEPRECATED. Not leveraged anymore\n\n  private elRef = createRef<HTMLDivElement>()\n  private calendar: Calendar\n  private handleCustomRendering: (customRendering: CustomRendering<any>) => void\n  private resizeId: number | undefined\n  private isUpdating = false\n  private isUnmounting = false\n\n  state: CalendarState = {\n    customRenderingMap: new Map<string, CustomRendering<any>>()\n  }\n\n  render() {\n    const customRenderingNodes: JSX.Element[] = []\n\n    for (const customRendering of this.state.customRenderingMap.values()) {\n      customRenderingNodes.push(\n        <CustomRenderingComponent\n          key={customRendering.id}\n          customRendering={customRendering}\n        />\n      )\n    }\n\n    return (\n      <div ref={this.elRef}>\n        {customRenderingNodes}\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const customRenderingStore = new CustomRenderingStore<unknown>()\n    this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore)\n\n    this.calendar = new Calendar(this.elRef.current, {\n      ...this.props,\n      handleCustomRendering: this.handleCustomRendering,\n    })\n    this.calendar.render()\n\n    let lastRequestTimestamp: number | undefined\n\n    customRenderingStore.subscribe((customRenderingMap) => {\n      const requestTimestamp = Date.now()\n      const isMounting = !lastRequestTimestamp\n      const runFunc = (\n        // don't call flushSync if React version already does sync rendering by default\n        // guards against fatal errors:\n        // https://github.com/fullcalendar/fullcalendar/issues/7448\n        syncRenderingByDefault ||\n        //\n        isMounting ||\n        this.isUpdating ||\n        this.isUnmounting ||\n        (requestTimestamp - lastRequestTimestamp) < 100 // rerendering frequently\n      ) ? runNow // either sync rendering (first-time or React 16/17) or async (React 18)\n        : flushSync // guaranteed sync rendering\n\n      runFunc(() => {\n        this.setState({ customRenderingMap }, () => {\n          lastRequestTimestamp = requestTimestamp\n          if (isMounting) {\n            this.doResize()\n          } else {\n            this.requestResize()\n          }\n        })\n      })\n    })\n  }\n\n  componentDidUpdate() {\n    this.isUpdating = true\n    this.calendar.resetOptions({\n      ...this.props,\n      handleCustomRendering: this.handleCustomRendering,\n    })\n    this.isUpdating = false\n  }\n\n  componentWillUnmount() {\n    this.isUnmounting = true\n    this.cancelResize()\n    this.calendar.destroy()\n  }\n\n  requestResize = () => {\n    if (!this.isUnmounting) {\n      this.cancelResize()\n      this.resizeId = requestAnimationFrame(() => {\n        this.doResize()\n      })\n    }\n  }\n\n  doResize() {\n    this.calendar.updateSize()\n  }\n\n  cancelResize() {\n    if (this.resizeId !== undefined) {\n      cancelAnimationFrame(this.resizeId)\n      this.resizeId = undefined\n    }\n  }\n\n  getApi(): CalendarApi {\n    return this.calendar\n  }\n}\n\n// Custom Rendering\n// -------------------------------------------------------------------------------------------------\n\ninterface CustomRenderingComponentProps {\n  customRendering: CustomRendering<any>\n}\n\nclass CustomRenderingComponent extends PureComponent<CustomRenderingComponentProps> {\n  render() {\n    const { customRendering } = this.props\n    const { generatorMeta } = customRendering\n    const vnode = typeof generatorMeta === 'function' ?\n      generatorMeta(customRendering.renderProps) :\n      generatorMeta\n\n    return createPortal(vnode, customRendering.containerEl)\n  }\n}\n\n// Util\n// -------------------------------------------------------------------------------------------------\n\nfunction runNow(f: () => void): void {\n  f()\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}