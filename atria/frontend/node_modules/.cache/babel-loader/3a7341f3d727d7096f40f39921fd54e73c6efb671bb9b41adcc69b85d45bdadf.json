{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _propTypes = require(\"prop-types\");\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _react = require(\"react\");\nvar _react2 = _interopRequireDefault(_react);\nvar _aphrodite = require(\"aphrodite\");\nvar _reactScrolllock = require(\"react-scrolllock\");\nvar _reactScrolllock2 = _interopRequireDefault(_reactScrolllock);\nvar _theme = require(\"./theme\");\nvar _theme2 = _interopRequireDefault(_theme);\nvar _Arrow = require(\"./components/Arrow\");\nvar _Arrow2 = _interopRequireDefault(_Arrow);\nvar _Container = require(\"./components/Container\");\nvar _Container2 = _interopRequireDefault(_Container);\nvar _Footer = require(\"./components/Footer\");\nvar _Footer2 = _interopRequireDefault(_Footer);\nvar _Header = require(\"./components/Header\");\nvar _Header2 = _interopRequireDefault(_Header);\nvar _PaginatedThumbnails = require(\"./components/PaginatedThumbnails\");\nvar _PaginatedThumbnails2 = _interopRequireDefault(_PaginatedThumbnails);\nvar _Portal = require(\"./components/Portal\");\nvar _Portal2 = _interopRequireDefault(_Portal);\nvar _Spinner = require(\"./components/Spinner\");\nvar _Spinner2 = _interopRequireDefault(_Spinner);\nvar _util = require(\"./utils/util\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nfunction normalizeSourceSet(data) {\n  var sourceSet = data.srcSet || data.srcset;\n  if (Array.isArray(sourceSet)) {\n    return sourceSet.join();\n  }\n  return sourceSet;\n}\nvar ThemeContext = _react2.default.createContext({\n  theme: _theme2.default,\n  toggleTheme: function toggleTheme(newTheme) {}\n});\nvar ImgsViewer = function (_Component) {\n  _inherits(ImgsViewer, _Component);\n  function ImgsViewer(props) {\n    _classCallCheck(this, ImgsViewer);\n    var _this = _possibleConstructorReturn(this, (ImgsViewer.__proto__ || Object.getPrototypeOf(ImgsViewer)).call(this, props));\n    _this.theme = (0, _util.deepMerge)(_theme2.default, _this.props.theme);\n    _this.classes = _aphrodite.StyleSheet.create((0, _util.deepMerge)(defaultStyles, _this.props.theme));\n    _this.toggleTheme = function (theme) {\n      _this.setState(function () {\n        return {\n          theme: theme\n        };\n      });\n    };\n    _this.state = {\n      imgLoaded: false,\n      theme: _this.theme,\n      toggleTheme: _this.toggleTheme\n    };\n    _util.bindFunctions.call(_this, [\"gotoNext\", \"gotoPrev\", \"closeBackdrop\", \"handleKeyboardInput\", \"handleImgLoaded\"]);\n    return _this;\n  }\n  _createClass(ImgsViewer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        if (this.props.enableKeyboardInput) {\n          window.addEventListener(\"keydown\", this.handleKeyboardInput);\n        }\n        if (typeof this.props.currImg === \"number\") {\n          this.preloadImg(this.props.currImg, this.handleImgLoaded);\n        }\n      }\n    }\n    // static getDerivedStateFromProps (nextProps, prevState) {\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (!_util.canUseDom) return;\n\n      // const instance = this\n\n      // always to preload imgs with both directions\n      // then when user changs direction, img also show quickly\n      if (nextProps.preloadNextImg) {\n        var nextIdx = nextProps.currImg + 1;\n        var prevIdx = nextProps.currImg - 1;\n        // debugger\n        // if (!this) return null\n        this.preloadImg(prevIdx);\n        this.preloadImg(nextIdx);\n      }\n      // preload currImg\n      if (this.props.currImg !== nextProps.currImg || !this.props.isOpen && nextProps.isOpen) {\n        var img = this.preloadImgData(nextProps.imgs[nextProps.currImg], this.handleImgLoaded);\n        if (img) this.setState({\n          imgLoaded: img.complete\n        });\n      }\n\n      // add/remove event listeners\n      if (!this.props.isOpen && nextProps.isOpen && nextProps.enableKeyboardInput) {\n        window.addEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n      if (!nextProps.isOpen && nextProps.enableKeyboardInput) {\n        window.removeEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n      return null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.enableKeyboardInput) {\n        window.removeEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n    }\n\n    // ====================\n    // Methods\n    // ====================\n  }, {\n    key: \"preloadImg\",\n    value: function preloadImg(idx, onload) {\n      return this.preloadImgData(this.props.imgs[idx], onload);\n    }\n  }, {\n    key: \"preloadImgData\",\n    value: function preloadImgData(data, onload) {\n      if (!data) return;\n      var img = new Image();\n      var sourceSet = normalizeSourceSet(data);\n\n      // Todo: add error handling for missing imgs\n      img.onerror = onload;\n      img.onload = onload;\n      img.src = data.src;\n      if (sourceSet) img.srcset = sourceSet;\n      return img;\n    }\n  }, {\n    key: \"gotoNext\",\n    value: function gotoNext(event) {\n      var _props = this.props,\n        currImg = _props.currImg,\n        imgs = _props.imgs;\n      var imgLoaded = this.state.imgLoaded;\n      if (!imgLoaded || currImg === imgs.length - 1) return;\n      if (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      this.props.onClickNext();\n    }\n  }, {\n    key: \"gotoPrev\",\n    value: function gotoPrev(event) {\n      var currImg = this.props.currImg;\n      var imgLoaded = this.state.imgLoaded;\n      if (!imgLoaded || currImg === 0) return;\n      if (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      this.props.onClickPrev();\n    }\n  }, {\n    key: \"closeBackdrop\",\n    value: function closeBackdrop(event) {\n      if (event.target.id === \"viewerBackdrop\" || event.target.tagName === \"FIGURE\") {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: \"handleKeyboardInput\",\n    value: function handleKeyboardInput(event) {\n      var keyCode = event.keyCode;\n      if (keyCode === 37 || keyCode === 33 || keyCode === 38) {\n        // left, pageup, up\n        this.gotoPrev(event);\n        return true;\n      } else if (keyCode === 39 || keyCode === 34 || keyCode === 40) {\n        // right, pagedown, down\n        this.gotoNext(event);\n        return true;\n      } else if (keyCode === 27 || keyCode === 32) {\n        // esc, space\n        this.props.onClose();\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"handleImgLoaded\",\n    value: function handleImgLoaded() {\n      this.setState({\n        imgLoaded: true\n      });\n    }\n\n    // ====================\n    // Renderers\n    // ====================\n  }, {\n    key: \"renderArrowPrev\",\n    value: function renderArrowPrev(theme) {\n      if (this.props.currImg === 0) return null;\n      return _react2.default.createElement(_Arrow2.default, {\n        theme: theme,\n        direction: \"left\",\n        icon: \"arrowLeft\",\n        onClick: this.gotoPrev,\n        title: this.props.leftArrowTitle,\n        type: \"button\"\n      });\n    }\n  }, {\n    key: \"renderArrowNext\",\n    value: function renderArrowNext(theme) {\n      if (this.props.currImg === this.props.imgs.length - 1) return null;\n      return _react2.default.createElement(_Arrow2.default, {\n        theme: theme,\n        direction: \"right\",\n        icon: \"arrowRight\",\n        onClick: this.gotoNext,\n        title: this.props.rightArrowTitle,\n        type: \"button\"\n      });\n    }\n  }, {\n    key: \"renderDialog\",\n    value: function renderDialog(newState) {\n      var _this2 = this;\n      var _props2 = this.props,\n        backdropCloseable = _props2.backdropCloseable,\n        isOpen = _props2.isOpen,\n        showThumbnails = _props2.showThumbnails,\n        width = _props2.width;\n      var imgLoaded = this.state.imgLoaded;\n      if (!isOpen) return _react2.default.createElement(\"span\", {\n        key: \"closed\"\n      });\n      var offsetThumbnails = showThumbnails ? this.theme.thumbnail.size + this.theme.container.gutter.vertical : 0;\n      return _react2.default.createElement(ThemeContext.Consumer, null, function (_ref) {\n        var theme = _ref.theme,\n          toggleTheme = _ref.toggleTheme;\n        theme = newState.theme;\n        return _react2.default.createElement(_Container2.default, {\n          theme: theme,\n          key: \"open\",\n          onClick: backdropCloseable && _this2.closeBackdrop,\n          onTouchEnd: backdropCloseable && _this2.closeBackdrop\n        }, _react2.default.createElement(_react.Fragment, null, _react2.default.createElement(\"div\", {\n          className: (0, _aphrodite.css)(_this2.classes.content),\n          style: {\n            marginBottom: offsetThumbnails,\n            maxWidth: width\n          }\n        }, imgLoaded && _this2.renderHeader(theme), \" \", _this2.renderImgs(theme), _this2.renderSpinner(), \" \", imgLoaded && _this2.renderFooter(theme)), imgLoaded && _this2.renderThumbnails(theme), imgLoaded && _this2.renderArrowPrev(theme), imgLoaded && _this2.renderArrowNext(theme), _this2.props.preventScroll && _react2.default.createElement(_reactScrolllock2.default, null)));\n      });\n    }\n  }, {\n    key: \"renderImgs\",\n    value: function renderImgs(theme) {\n      var _props3 = this.props,\n        currImg = _props3.currImg,\n        imgs = _props3.imgs,\n        onClickImg = _props3.onClickImg,\n        showThumbnails = _props3.showThumbnails;\n      var imgLoaded = this.state.imgLoaded;\n      if (!imgs || !imgs.length) return null;\n      var img = imgs[currImg];\n      var sourceSet = normalizeSourceSet(img);\n      var sizes = sourceSet ? \"100vw\" : null;\n      var thumbnailsSize = showThumbnails ? theme.thumbnail.size : 0;\n      var heightOffset = theme.header.height + theme.footer.height + thumbnailsSize + theme.container.gutter.vertical + \"px\";\n      return _react2.default.createElement(\"figure\", {\n        className: (0, _aphrodite.css)(this.classes.figure)\n      }, _react2.default.createElement(\"img\", {\n        className: (0, _aphrodite.css)(this.classes.img, imgLoaded && this.classes.imgLoaded),\n        onClick: onClickImg,\n        sizes: sizes,\n        alt: img.alt,\n        src: img.src,\n        srcSet: sourceSet,\n        style: {\n          cursor: onClickImg ? \"pointer\" : \"auto\",\n          maxHeight: \"calc(100vh - \" + heightOffset\n        }\n      }));\n    }\n  }, {\n    key: \"renderThumbnails\",\n    value: function renderThumbnails(theme) {\n      var _props4 = this.props,\n        imgs = _props4.imgs,\n        currImg = _props4.currImg,\n        leftArrowTitle = _props4.leftArrowTitle,\n        rightArrowTitle = _props4.rightArrowTitle,\n        onClickThumbnail = _props4.onClickThumbnail,\n        showThumbnails = _props4.showThumbnails,\n        thumbnailOffset = _props4.thumbnailOffset;\n      if (!showThumbnails) return null;\n      return _react2.default.createElement(_PaginatedThumbnails2.default, {\n        theme: theme,\n        leftTitle: leftArrowTitle,\n        rightTitle: rightArrowTitle,\n        currImg: currImg,\n        imgs: imgs,\n        offset: thumbnailOffset,\n        onClickThumbnail: onClickThumbnail\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader(theme) {\n      var _props5 = this.props,\n        closeBtnTitle = _props5.closeBtnTitle,\n        customControls = _props5.customControls,\n        onClose = _props5.onClose,\n        showCloseBtn = _props5.showCloseBtn;\n      return _react2.default.createElement(_Header2.default, {\n        theme: theme,\n        customControls: customControls,\n        onClose: onClose,\n        showCloseBtn: showCloseBtn,\n        closeBtnTitle: closeBtnTitle\n      });\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter(theme) {\n      var _props6 = this.props,\n        currImg = _props6.currImg,\n        imgs = _props6.imgs,\n        imgCountSeparator = _props6.imgCountSeparator,\n        showImgCount = _props6.showImgCount;\n      if (!imgs || !imgs.length) return null;\n      return _react2.default.createElement(_Footer2.default, {\n        theme: theme,\n        caption: imgs[currImg].caption,\n        countCurr: currImg + 1,\n        countSeparator: imgCountSeparator,\n        countTotal: imgs.length,\n        showCount: showImgCount\n      });\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      var _props7 = this.props,\n        spinner = _props7.spinner,\n        spinnerDisabled = _props7.spinnerDisabled,\n        spinnerColor = _props7.spinnerColor,\n        spinnerSize = _props7.spinnerSize;\n      var imgLoaded = this.state.imgLoaded;\n      var Spinner = spinner;\n      if (spinnerDisabled) return null;\n      return _react2.default.createElement(\"div\", {\n        className: (0, _aphrodite.css)(this.classes.spinner, !imgLoaded && this.classes.spinnerActive)\n      }, _react2.default.createElement(Spinner, {\n        color: spinnerColor,\n        size: spinnerSize\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(ThemeContext.Provider, {\n        value: this.state\n      }, _react2.default.createElement(_Portal2.default, null, \" \", this.renderDialog(this.state), \" \"));\n    }\n  }]);\n  return ImgsViewer;\n}(_react.Component);\nImgsViewer.propTypes = {\n  backdropCloseable: _propTypes2.default.bool,\n  closeBtnTitle: _propTypes2.default.string,\n  currImg: _propTypes2.default.number,\n  customControls: _propTypes2.default.arrayOf(_propTypes2.default.node),\n  enableKeyboardInput: _propTypes2.default.bool,\n  imgCountSeparator: _propTypes2.default.string,\n  imgs: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    src: _propTypes2.default.string.isRequired,\n    srcSet: _propTypes2.default.oneOfType([_propTypes2.default.array, _propTypes2.default.string]),\n    caption: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n    thumbnail: _propTypes2.default.string\n  })).isRequired,\n  isOpen: _propTypes2.default.bool,\n  leftArrowTitle: _propTypes2.default.string,\n  onClickImg: _propTypes2.default.func,\n  onClickNext: _propTypes2.default.func,\n  onClickPrev: _propTypes2.default.func,\n  onClickThumbnail: _propTypes2.default.func,\n  onClose: _propTypes2.default.func.isRequired,\n  preloadNextImg: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  rightArrowTitle: _propTypes2.default.string,\n  showCloseBtn: _propTypes2.default.bool,\n  showImgCount: _propTypes2.default.bool,\n  showThumbnails: _propTypes2.default.bool,\n  spinnerDisabled: _propTypes2.default.bool,\n  spinner: _propTypes2.default.func,\n  spinnerColor: _propTypes2.default.string,\n  spinnerSize: _propTypes2.default.number,\n  theme: _propTypes2.default.object,\n  thumbnailOffset: _propTypes2.default.number,\n  width: _propTypes2.default.number\n};\nImgsViewer.defaultProps = {\n  currImg: 0,\n  enableKeyboardInput: true,\n  imgCountSeparator: \" / \",\n  onClickShowNextImg: true,\n  preloadNextImg: true,\n  preventScroll: true,\n  showCloseBtn: true,\n  showImgCount: true,\n  spinnerDisabled: false,\n  spinner: _Spinner2.default,\n  spinnerColor: \"#fff\",\n  spinnerSize: 50,\n  theme: {},\n  thumbnailOffset: 2,\n  width: 1024\n};\nvar defaultStyles = {\n  content: {\n    position: \"relative\"\n  },\n  figure: {\n    margin: 0 // remove browser default\n  },\n\n  img: {\n    display: \"block\",\n    // removes browser default gutter\n    height: \"auto\",\n    margin: \"0 auto\",\n    // main center on very short screens or very narrow img\n    maxWidth: \"100%\",\n    // disable user select\n    WebkitTouchCallout: \"none\",\n    userSelect: \"none\",\n    // opacity animation on image load\n    opacity: 0,\n    transition: \"opacity .3s\"\n  },\n  imgLoaded: {\n    opacity: 1\n  },\n  spinner: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    // opacity animation to make spinner appear with delay\n    opacity: 0,\n    transition: \"opacity .3s\",\n    pointerEvents: \"none\"\n  },\n  spinnerActive: {\n    opacity: 1\n  }\n};\nexports.default = ImgsViewer;","map":{"version":3,"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_aphrodite","_reactScrolllock","_reactScrolllock2","_theme","_theme2","_Arrow","_Arrow2","_Container","_Container2","_Footer","_Footer2","_Header","_Header2","_PaginatedThumbnails","_PaginatedThumbnails2","_Portal","_Portal2","_Spinner","_Spinner2","_util","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","normalizeSourceSet","data","sourceSet","srcSet","srcset","Array","isArray","join","ThemeContext","createContext","theme","toggleTheme","newTheme","ImgsViewer","_Component","_this","getPrototypeOf","deepMerge","classes","StyleSheet","defaultStyles","setState","state","imgLoaded","bindFunctions","componentDidMount","isOpen","enableKeyboardInput","window","addEventListener","handleKeyboardInput","currImg","preloadImg","handleImgLoaded","UNSAFE_componentWillReceiveProps","nextProps","canUseDom","preloadNextImg","nextIdx","prevIdx","img","preloadImgData","imgs","complete","removeEventListener","componentWillUnmount","idx","onload","Image","onerror","src","gotoNext","event","_props","preventDefault","stopPropagation","onClickNext","gotoPrev","onClickPrev","closeBackdrop","id","tagName","onClose","keyCode","renderArrowPrev","createElement","direction","icon","onClick","title","leftArrowTitle","type","renderArrowNext","rightArrowTitle","renderDialog","newState","_this2","_props2","backdropCloseable","showThumbnails","width","offsetThumbnails","thumbnail","size","container","gutter","vertical","Consumer","_ref","onTouchEnd","Fragment","className","css","content","style","marginBottom","maxWidth","renderHeader","renderImgs","renderSpinner","renderFooter","renderThumbnails","preventScroll","_props3","onClickImg","sizes","thumbnailsSize","heightOffset","header","height","footer","figure","alt","cursor","maxHeight","_props4","onClickThumbnail","thumbnailOffset","leftTitle","rightTitle","offset","_props5","closeBtnTitle","customControls","showCloseBtn","_props6","imgCountSeparator","showImgCount","caption","countCurr","countSeparator","countTotal","showCount","_props7","spinner","spinnerDisabled","spinnerColor","spinnerSize","Spinner","spinnerActive","color","render","Provider","Component","propTypes","bool","string","number","arrayOf","node","shape","isRequired","oneOfType","array","element","func","object","defaultProps","onClickShowNextImg","position","margin","display","WebkitTouchCallout","userSelect","opacity","transition","top","left","transform","pointerEvents"],"sources":["/home/atria/public_html/f1.atria.live/atria/frontend/node_modules/react-images-viewer/lib/ImgsViewer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _aphrodite = require(\"aphrodite\");\n\nvar _reactScrolllock = require(\"react-scrolllock\");\n\nvar _reactScrolllock2 = _interopRequireDefault(_reactScrolllock);\n\nvar _theme = require(\"./theme\");\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _Arrow = require(\"./components/Arrow\");\n\nvar _Arrow2 = _interopRequireDefault(_Arrow);\n\nvar _Container = require(\"./components/Container\");\n\nvar _Container2 = _interopRequireDefault(_Container);\n\nvar _Footer = require(\"./components/Footer\");\n\nvar _Footer2 = _interopRequireDefault(_Footer);\n\nvar _Header = require(\"./components/Header\");\n\nvar _Header2 = _interopRequireDefault(_Header);\n\nvar _PaginatedThumbnails = require(\"./components/PaginatedThumbnails\");\n\nvar _PaginatedThumbnails2 = _interopRequireDefault(_PaginatedThumbnails);\n\nvar _Portal = require(\"./components/Portal\");\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _Spinner = require(\"./components/Spinner\");\n\nvar _Spinner2 = _interopRequireDefault(_Spinner);\n\nvar _util = require(\"./utils/util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction normalizeSourceSet(data) {\n  var sourceSet = data.srcSet || data.srcset;\n\n  if (Array.isArray(sourceSet)) {\n    return sourceSet.join();\n  }\n\n  return sourceSet;\n}\n\nvar ThemeContext = _react2.default.createContext({\n  theme: _theme2.default,\n  toggleTheme: function toggleTheme(newTheme) {}\n});\n\nvar ImgsViewer = function (_Component) {\n  _inherits(ImgsViewer, _Component);\n\n  function ImgsViewer(props) {\n    _classCallCheck(this, ImgsViewer);\n\n    var _this = _possibleConstructorReturn(this, (ImgsViewer.__proto__ || Object.getPrototypeOf(ImgsViewer)).call(this, props));\n\n    _this.theme = (0, _util.deepMerge)(_theme2.default, _this.props.theme);\n    _this.classes = _aphrodite.StyleSheet.create((0, _util.deepMerge)(defaultStyles, _this.props.theme));\n    _this.toggleTheme = function (theme) {\n      _this.setState(function () {\n        return { theme: theme };\n      });\n    };\n    _this.state = {\n      imgLoaded: false,\n      theme: _this.theme,\n      toggleTheme: _this.toggleTheme\n    };\n\n    _util.bindFunctions.call(_this, [\"gotoNext\", \"gotoPrev\", \"closeBackdrop\", \"handleKeyboardInput\", \"handleImgLoaded\"]);\n    return _this;\n  }\n\n  _createClass(ImgsViewer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        if (this.props.enableKeyboardInput) {\n          window.addEventListener(\"keydown\", this.handleKeyboardInput);\n        }\n        if (typeof this.props.currImg === \"number\") {\n          this.preloadImg(this.props.currImg, this.handleImgLoaded);\n        }\n      }\n    }\n    // static getDerivedStateFromProps (nextProps, prevState) {\n\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (!_util.canUseDom) return;\n\n      // const instance = this\n\n      // always to preload imgs with both directions\n      // then when user changs direction, img also show quickly\n      if (nextProps.preloadNextImg) {\n        var nextIdx = nextProps.currImg + 1;\n        var prevIdx = nextProps.currImg - 1;\n        // debugger\n        // if (!this) return null\n        this.preloadImg(prevIdx);\n        this.preloadImg(nextIdx);\n      }\n      // preload currImg\n      if (this.props.currImg !== nextProps.currImg || !this.props.isOpen && nextProps.isOpen) {\n        var img = this.preloadImgData(nextProps.imgs[nextProps.currImg], this.handleImgLoaded);\n        if (img) this.setState({\n          imgLoaded: img.complete\n        });\n      }\n\n      // add/remove event listeners\n      if (!this.props.isOpen && nextProps.isOpen && nextProps.enableKeyboardInput) {\n        window.addEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n      if (!nextProps.isOpen && nextProps.enableKeyboardInput) {\n        window.removeEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.enableKeyboardInput) {\n        window.removeEventListener(\"keydown\", this.handleKeyboardInput);\n      }\n    }\n\n    // ====================\n    // Methods\n    // ====================\n\n  }, {\n    key: \"preloadImg\",\n    value: function preloadImg(idx, onload) {\n      return this.preloadImgData(this.props.imgs[idx], onload);\n    }\n  }, {\n    key: \"preloadImgData\",\n    value: function preloadImgData(data, onload) {\n      if (!data) return;\n\n      var img = new Image();\n      var sourceSet = normalizeSourceSet(data);\n\n      // Todo: add error handling for missing imgs\n      img.onerror = onload;\n      img.onload = onload;\n      img.src = data.src;\n\n      if (sourceSet) img.srcset = sourceSet;\n\n      return img;\n    }\n  }, {\n    key: \"gotoNext\",\n    value: function gotoNext(event) {\n      var _props = this.props,\n          currImg = _props.currImg,\n          imgs = _props.imgs;\n      var imgLoaded = this.state.imgLoaded;\n\n\n      if (!imgLoaded || currImg === imgs.length - 1) return;\n\n      if (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      this.props.onClickNext();\n    }\n  }, {\n    key: \"gotoPrev\",\n    value: function gotoPrev(event) {\n      var currImg = this.props.currImg;\n      var imgLoaded = this.state.imgLoaded;\n\n\n      if (!imgLoaded || currImg === 0) return;\n\n      if (event) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      this.props.onClickPrev();\n    }\n  }, {\n    key: \"closeBackdrop\",\n    value: function closeBackdrop(event) {\n      if (event.target.id === \"viewerBackdrop\" || event.target.tagName === \"FIGURE\") {\n        this.props.onClose();\n      }\n    }\n  }, {\n    key: \"handleKeyboardInput\",\n    value: function handleKeyboardInput(event) {\n      var keyCode = event.keyCode;\n\n      if (keyCode === 37 || keyCode === 33 || keyCode === 38) {\n        // left, pageup, up\n        this.gotoPrev(event);\n        return true;\n      } else if (keyCode === 39 || keyCode === 34 || keyCode === 40) {\n        // right, pagedown, down\n        this.gotoNext(event);\n        return true;\n      } else if (keyCode === 27 || keyCode === 32) {\n        // esc, space\n        this.props.onClose();\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"handleImgLoaded\",\n    value: function handleImgLoaded() {\n      this.setState({\n        imgLoaded: true\n      });\n    }\n\n    // ====================\n    // Renderers\n    // ====================\n\n  }, {\n    key: \"renderArrowPrev\",\n    value: function renderArrowPrev(theme) {\n      if (this.props.currImg === 0) return null;\n\n      return _react2.default.createElement(_Arrow2.default, {\n        theme: theme,\n        direction: \"left\",\n        icon: \"arrowLeft\",\n        onClick: this.gotoPrev,\n        title: this.props.leftArrowTitle,\n        type: \"button\"\n      });\n    }\n  }, {\n    key: \"renderArrowNext\",\n    value: function renderArrowNext(theme) {\n      if (this.props.currImg === this.props.imgs.length - 1) return null;\n\n      return _react2.default.createElement(_Arrow2.default, {\n        theme: theme,\n        direction: \"right\",\n        icon: \"arrowRight\",\n        onClick: this.gotoNext,\n        title: this.props.rightArrowTitle,\n        type: \"button\"\n      });\n    }\n  }, {\n    key: \"renderDialog\",\n    value: function renderDialog(newState) {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          backdropCloseable = _props2.backdropCloseable,\n          isOpen = _props2.isOpen,\n          showThumbnails = _props2.showThumbnails,\n          width = _props2.width;\n      var imgLoaded = this.state.imgLoaded;\n\n\n      if (!isOpen) return _react2.default.createElement(\"span\", { key: \"closed\" });\n\n      var offsetThumbnails = showThumbnails ? this.theme.thumbnail.size + this.theme.container.gutter.vertical : 0;\n\n      return _react2.default.createElement(\n        ThemeContext.Consumer,\n        null,\n        function (_ref) {\n          var theme = _ref.theme,\n              toggleTheme = _ref.toggleTheme;\n\n          theme = newState.theme;\n          return _react2.default.createElement(\n            _Container2.default,\n            {\n              theme: theme,\n              key: \"open\",\n              onClick: backdropCloseable && _this2.closeBackdrop,\n              onTouchEnd: backdropCloseable && _this2.closeBackdrop\n            },\n            _react2.default.createElement(\n              _react.Fragment,\n              null,\n              _react2.default.createElement(\n                \"div\",\n                {\n                  className: (0, _aphrodite.css)(_this2.classes.content),\n                  style: {\n                    marginBottom: offsetThumbnails,\n                    maxWidth: width\n                  }\n                },\n                imgLoaded && _this2.renderHeader(theme),\n                \" \",\n                _this2.renderImgs(theme),\n                _this2.renderSpinner(),\n                \" \",\n                imgLoaded && _this2.renderFooter(theme)\n              ),\n              imgLoaded && _this2.renderThumbnails(theme),\n              imgLoaded && _this2.renderArrowPrev(theme),\n              imgLoaded && _this2.renderArrowNext(theme),\n              _this2.props.preventScroll && _react2.default.createElement(_reactScrolllock2.default, null)\n            )\n          );\n        }\n      );\n    }\n  }, {\n    key: \"renderImgs\",\n    value: function renderImgs(theme) {\n      var _props3 = this.props,\n          currImg = _props3.currImg,\n          imgs = _props3.imgs,\n          onClickImg = _props3.onClickImg,\n          showThumbnails = _props3.showThumbnails;\n      var imgLoaded = this.state.imgLoaded;\n\n\n      if (!imgs || !imgs.length) return null;\n\n      var img = imgs[currImg];\n      var sourceSet = normalizeSourceSet(img);\n      var sizes = sourceSet ? \"100vw\" : null;\n\n      var thumbnailsSize = showThumbnails ? theme.thumbnail.size : 0;\n      var heightOffset = theme.header.height + theme.footer.height + thumbnailsSize + theme.container.gutter.vertical + \"px\";\n\n      return _react2.default.createElement(\n        \"figure\",\n        { className: (0, _aphrodite.css)(this.classes.figure) },\n        _react2.default.createElement(\"img\", {\n          className: (0, _aphrodite.css)(this.classes.img, imgLoaded && this.classes.imgLoaded),\n          onClick: onClickImg,\n          sizes: sizes,\n          alt: img.alt,\n          src: img.src,\n          srcSet: sourceSet,\n          style: {\n            cursor: onClickImg ? \"pointer\" : \"auto\",\n            maxHeight: \"calc(100vh - \" + heightOffset\n          }\n        })\n      );\n    }\n  }, {\n    key: \"renderThumbnails\",\n    value: function renderThumbnails(theme) {\n      var _props4 = this.props,\n          imgs = _props4.imgs,\n          currImg = _props4.currImg,\n          leftArrowTitle = _props4.leftArrowTitle,\n          rightArrowTitle = _props4.rightArrowTitle,\n          onClickThumbnail = _props4.onClickThumbnail,\n          showThumbnails = _props4.showThumbnails,\n          thumbnailOffset = _props4.thumbnailOffset;\n\n\n      if (!showThumbnails) return null;\n\n      return _react2.default.createElement(_PaginatedThumbnails2.default, {\n        theme: theme,\n        leftTitle: leftArrowTitle,\n        rightTitle: rightArrowTitle,\n        currImg: currImg,\n        imgs: imgs,\n        offset: thumbnailOffset,\n        onClickThumbnail: onClickThumbnail\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader(theme) {\n      var _props5 = this.props,\n          closeBtnTitle = _props5.closeBtnTitle,\n          customControls = _props5.customControls,\n          onClose = _props5.onClose,\n          showCloseBtn = _props5.showCloseBtn;\n\n\n      return _react2.default.createElement(_Header2.default, {\n        theme: theme,\n        customControls: customControls,\n        onClose: onClose,\n        showCloseBtn: showCloseBtn,\n        closeBtnTitle: closeBtnTitle\n      });\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter(theme) {\n      var _props6 = this.props,\n          currImg = _props6.currImg,\n          imgs = _props6.imgs,\n          imgCountSeparator = _props6.imgCountSeparator,\n          showImgCount = _props6.showImgCount;\n\n\n      if (!imgs || !imgs.length) return null;\n\n      return _react2.default.createElement(_Footer2.default, {\n        theme: theme,\n        caption: imgs[currImg].caption,\n        countCurr: currImg + 1,\n        countSeparator: imgCountSeparator,\n        countTotal: imgs.length,\n        showCount: showImgCount\n      });\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      var _props7 = this.props,\n          spinner = _props7.spinner,\n          spinnerDisabled = _props7.spinnerDisabled,\n          spinnerColor = _props7.spinnerColor,\n          spinnerSize = _props7.spinnerSize;\n      var imgLoaded = this.state.imgLoaded;\n\n      var Spinner = spinner;\n      if (spinnerDisabled) return null;\n      return _react2.default.createElement(\n        \"div\",\n        {\n          className: (0, _aphrodite.css)(this.classes.spinner, !imgLoaded && this.classes.spinnerActive)\n        },\n        _react2.default.createElement(Spinner, { color: spinnerColor, size: spinnerSize })\n      );\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(\n        ThemeContext.Provider,\n        { value: this.state },\n        _react2.default.createElement(\n          _Portal2.default,\n          null,\n          \" \",\n          this.renderDialog(this.state),\n          \" \"\n        )\n      );\n    }\n  }]);\n\n  return ImgsViewer;\n}(_react.Component);\n\nImgsViewer.propTypes = {\n  backdropCloseable: _propTypes2.default.bool,\n  closeBtnTitle: _propTypes2.default.string,\n  currImg: _propTypes2.default.number,\n  customControls: _propTypes2.default.arrayOf(_propTypes2.default.node),\n  enableKeyboardInput: _propTypes2.default.bool,\n  imgCountSeparator: _propTypes2.default.string,\n  imgs: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    src: _propTypes2.default.string.isRequired,\n    srcSet: _propTypes2.default.oneOfType([_propTypes2.default.array, _propTypes2.default.string]),\n    caption: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n    thumbnail: _propTypes2.default.string\n  })).isRequired,\n  isOpen: _propTypes2.default.bool,\n  leftArrowTitle: _propTypes2.default.string,\n  onClickImg: _propTypes2.default.func,\n  onClickNext: _propTypes2.default.func,\n  onClickPrev: _propTypes2.default.func,\n  onClickThumbnail: _propTypes2.default.func,\n  onClose: _propTypes2.default.func.isRequired,\n  preloadNextImg: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  rightArrowTitle: _propTypes2.default.string,\n  showCloseBtn: _propTypes2.default.bool,\n  showImgCount: _propTypes2.default.bool,\n  showThumbnails: _propTypes2.default.bool,\n  spinnerDisabled: _propTypes2.default.bool,\n  spinner: _propTypes2.default.func,\n  spinnerColor: _propTypes2.default.string,\n  spinnerSize: _propTypes2.default.number,\n  theme: _propTypes2.default.object,\n  thumbnailOffset: _propTypes2.default.number,\n  width: _propTypes2.default.number\n};\nImgsViewer.defaultProps = {\n  currImg: 0,\n  enableKeyboardInput: true,\n  imgCountSeparator: \" / \",\n  onClickShowNextImg: true,\n  preloadNextImg: true,\n  preventScroll: true,\n  showCloseBtn: true,\n  showImgCount: true,\n  spinnerDisabled: false,\n  spinner: _Spinner2.default,\n  spinnerColor: \"#fff\",\n  spinnerSize: 50,\n  theme: {},\n  thumbnailOffset: 2,\n  width: 1024\n};\n\nvar defaultStyles = {\n  content: {\n    position: \"relative\"\n  },\n  figure: {\n    margin: 0 // remove browser default\n  },\n  img: {\n    display: \"block\", // removes browser default gutter\n    height: \"auto\",\n    margin: \"0 auto\", // main center on very short screens or very narrow img\n    maxWidth: \"100%\",\n\n    // disable user select\n    WebkitTouchCallout: \"none\",\n    userSelect: \"none\",\n\n    // opacity animation on image load\n    opacity: 0,\n    transition: \"opacity .3s\"\n  },\n  imgLoaded: {\n    opacity: 1\n  },\n  spinner: {\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n\n    // opacity animation to make spinner appear with delay\n    opacity: 0,\n    transition: \"opacity .3s\",\n    pointerEvents: \"none\"\n  },\n  spinnerActive: {\n    opacity: 1\n  }\n};\n\nexports.default = ImgsViewer;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AAEF,IAAIC,YAAY,GAAG,YAAY;EAAE,SAASC,gBAAgBA,CAACC,MAAM,EAAEC,KAAK,EAAE;IAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAE;MAAE,IAAIE,UAAU,GAAGH,KAAK,CAACC,CAAC,CAAC;MAAEE,UAAU,CAACC,UAAU,GAAGD,UAAU,CAACC,UAAU,IAAI,KAAK;MAAED,UAAU,CAACE,YAAY,GAAG,IAAI;MAAE,IAAI,OAAO,IAAIF,UAAU,EAAEA,UAAU,CAACG,QAAQ,GAAG,IAAI;MAAEb,MAAM,CAACC,cAAc,CAACK,MAAM,EAAEI,UAAU,CAACI,GAAG,EAAEJ,UAAU,CAAC;IAAE;EAAE;EAAE,OAAO,UAAUK,WAAW,EAAEC,UAAU,EAAEC,WAAW,EAAE;IAAE,IAAID,UAAU,EAAEX,gBAAgB,CAACU,WAAW,CAACG,SAAS,EAAEF,UAAU,CAAC;IAAE,IAAIC,WAAW,EAAEZ,gBAAgB,CAACU,WAAW,EAAEE,WAAW,CAAC;IAAE,OAAOF,WAAW;EAAE,CAAC;AAAE,CAAC,CAAC,CAAC;AAEnjB,IAAII,UAAU,GAAGC,OAAO,CAAC,YAAY,CAAC;AAEtC,IAAIC,WAAW,GAAGC,sBAAsB,CAACH,UAAU,CAAC;AAEpD,IAAII,MAAM,GAAGH,OAAO,CAAC,OAAO,CAAC;AAE7B,IAAII,OAAO,GAAGF,sBAAsB,CAACC,MAAM,CAAC;AAE5C,IAAIE,UAAU,GAAGL,OAAO,CAAC,WAAW,CAAC;AAErC,IAAIM,gBAAgB,GAAGN,OAAO,CAAC,kBAAkB,CAAC;AAElD,IAAIO,iBAAiB,GAAGL,sBAAsB,CAACI,gBAAgB,CAAC;AAEhE,IAAIE,MAAM,GAAGR,OAAO,CAAC,SAAS,CAAC;AAE/B,IAAIS,OAAO,GAAGP,sBAAsB,CAACM,MAAM,CAAC;AAE5C,IAAIE,MAAM,GAAGV,OAAO,CAAC,oBAAoB,CAAC;AAE1C,IAAIW,OAAO,GAAGT,sBAAsB,CAACQ,MAAM,CAAC;AAE5C,IAAIE,UAAU,GAAGZ,OAAO,CAAC,wBAAwB,CAAC;AAElD,IAAIa,WAAW,GAAGX,sBAAsB,CAACU,UAAU,CAAC;AAEpD,IAAIE,OAAO,GAAGd,OAAO,CAAC,qBAAqB,CAAC;AAE5C,IAAIe,QAAQ,GAAGb,sBAAsB,CAACY,OAAO,CAAC;AAE9C,IAAIE,OAAO,GAAGhB,OAAO,CAAC,qBAAqB,CAAC;AAE5C,IAAIiB,QAAQ,GAAGf,sBAAsB,CAACc,OAAO,CAAC;AAE9C,IAAIE,oBAAoB,GAAGlB,OAAO,CAAC,kCAAkC,CAAC;AAEtE,IAAImB,qBAAqB,GAAGjB,sBAAsB,CAACgB,oBAAoB,CAAC;AAExE,IAAIE,OAAO,GAAGpB,OAAO,CAAC,qBAAqB,CAAC;AAE5C,IAAIqB,QAAQ,GAAGnB,sBAAsB,CAACkB,OAAO,CAAC;AAE9C,IAAIE,QAAQ,GAAGtB,OAAO,CAAC,sBAAsB,CAAC;AAE9C,IAAIuB,SAAS,GAAGrB,sBAAsB,CAACoB,QAAQ,CAAC;AAEhD,IAAIE,KAAK,GAAGxB,OAAO,CAAC,cAAc,CAAC;AAEnC,SAASE,sBAAsBA,CAACuB,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;AAE9F,SAASG,eAAeA,CAACC,QAAQ,EAAElC,WAAW,EAAE;EAAE,IAAI,EAAEkC,QAAQ,YAAYlC,WAAW,CAAC,EAAE;IAAE,MAAM,IAAImC,SAAS,CAAC,mCAAmC,CAAC;EAAE;AAAE;AAExJ,SAASC,0BAA0BA,CAACC,IAAI,EAAEC,IAAI,EAAE;EAAE,IAAI,CAACD,IAAI,EAAE;IAAE,MAAM,IAAIE,cAAc,CAAC,2DAA2D,CAAC;EAAE;EAAE,OAAOD,IAAI,KAAK,OAAOA,IAAI,KAAK,QAAQ,IAAI,OAAOA,IAAI,KAAK,UAAU,CAAC,GAAGA,IAAI,GAAGD,IAAI;AAAE;AAE/O,SAASG,SAASA,CAACC,QAAQ,EAAEC,UAAU,EAAE;EAAE,IAAI,OAAOA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,IAAI,EAAE;IAAE,MAAM,IAAIP,SAAS,CAAC,0DAA0D,GAAG,OAAOO,UAAU,CAAC;EAAE;EAAED,QAAQ,CAACtC,SAAS,GAAGlB,MAAM,CAAC0D,MAAM,CAACD,UAAU,IAAIA,UAAU,CAACvC,SAAS,EAAE;IAAEyC,WAAW,EAAE;MAAExD,KAAK,EAAEqD,QAAQ;MAAE7C,UAAU,EAAE,KAAK;MAAEE,QAAQ,EAAE,IAAI;MAAED,YAAY,EAAE;IAAK;EAAE,CAAC,CAAC;EAAE,IAAI6C,UAAU,EAAEzD,MAAM,CAAC4D,cAAc,GAAG5D,MAAM,CAAC4D,cAAc,CAACJ,QAAQ,EAAEC,UAAU,CAAC,GAAGD,QAAQ,CAACK,SAAS,GAAGJ,UAAU;AAAE;AAE7e,SAASK,kBAAkBA,CAACC,IAAI,EAAE;EAChC,IAAIC,SAAS,GAAGD,IAAI,CAACE,MAAM,IAAIF,IAAI,CAACG,MAAM;EAE1C,IAAIC,KAAK,CAACC,OAAO,CAACJ,SAAS,CAAC,EAAE;IAC5B,OAAOA,SAAS,CAACK,IAAI,CAAC,CAAC;EACzB;EAEA,OAAOL,SAAS;AAClB;AAEA,IAAIM,YAAY,GAAG9C,OAAO,CAACuB,OAAO,CAACwB,aAAa,CAAC;EAC/CC,KAAK,EAAE3C,OAAO,CAACkB,OAAO;EACtB0B,WAAW,EAAE,SAASA,WAAWA,CAACC,QAAQ,EAAE,CAAC;AAC/C,CAAC,CAAC;AAEF,IAAIC,UAAU,GAAG,UAAUC,UAAU,EAAE;EACrCrB,SAAS,CAACoB,UAAU,EAAEC,UAAU,CAAC;EAEjC,SAASD,UAAUA,CAACpE,KAAK,EAAE;IACzByC,eAAe,CAAC,IAAI,EAAE2B,UAAU,CAAC;IAEjC,IAAIE,KAAK,GAAG1B,0BAA0B,CAAC,IAAI,EAAE,CAACwB,UAAU,CAACd,SAAS,IAAI7D,MAAM,CAAC8E,cAAc,CAACH,UAAU,CAAC,EAAEtB,IAAI,CAAC,IAAI,EAAE9C,KAAK,CAAC,CAAC;IAE3HsE,KAAK,CAACL,KAAK,GAAG,CAAC,CAAC,EAAE5B,KAAK,CAACmC,SAAS,EAAElD,OAAO,CAACkB,OAAO,EAAE8B,KAAK,CAACtE,KAAK,CAACiE,KAAK,CAAC;IACtEK,KAAK,CAACG,OAAO,GAAGvD,UAAU,CAACwD,UAAU,CAACvB,MAAM,CAAC,CAAC,CAAC,EAAEd,KAAK,CAACmC,SAAS,EAAEG,aAAa,EAAEL,KAAK,CAACtE,KAAK,CAACiE,KAAK,CAAC,CAAC;IACpGK,KAAK,CAACJ,WAAW,GAAG,UAAUD,KAAK,EAAE;MACnCK,KAAK,CAACM,QAAQ,CAAC,YAAY;QACzB,OAAO;UAAEX,KAAK,EAAEA;QAAM,CAAC;MACzB,CAAC,CAAC;IACJ,CAAC;IACDK,KAAK,CAACO,KAAK,GAAG;MACZC,SAAS,EAAE,KAAK;MAChBb,KAAK,EAAEK,KAAK,CAACL,KAAK;MAClBC,WAAW,EAAEI,KAAK,CAACJ;IACrB,CAAC;IAED7B,KAAK,CAAC0C,aAAa,CAACjC,IAAI,CAACwB,KAAK,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,eAAe,EAAE,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;IACpH,OAAOA,KAAK;EACd;EAEAzE,YAAY,CAACuE,UAAU,EAAE,CAAC;IACxB7D,GAAG,EAAE,mBAAmB;IACxBX,KAAK,EAAE,SAASoF,iBAAiBA,CAAA,EAAG;MAClC,IAAI,IAAI,CAAChF,KAAK,CAACiF,MAAM,EAAE;QACrB,IAAI,IAAI,CAACjF,KAAK,CAACkF,mBAAmB,EAAE;UAClCC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACC,mBAAmB,CAAC;QAC9D;QACA,IAAI,OAAO,IAAI,CAACrF,KAAK,CAACsF,OAAO,KAAK,QAAQ,EAAE;UAC1C,IAAI,CAACC,UAAU,CAAC,IAAI,CAACvF,KAAK,CAACsF,OAAO,EAAE,IAAI,CAACE,eAAe,CAAC;QAC3D;MACF;IACF;IACA;EAEF,CAAC,EAAE;IACDjF,GAAG,EAAE,kCAAkC;IACvCX,KAAK,EAAE,SAAS6F,gCAAgCA,CAACC,SAAS,EAAE;MAC1D,IAAI,CAACrD,KAAK,CAACsD,SAAS,EAAE;;MAEtB;;MAEA;MACA;MACA,IAAID,SAAS,CAACE,cAAc,EAAE;QAC5B,IAAIC,OAAO,GAAGH,SAAS,CAACJ,OAAO,GAAG,CAAC;QACnC,IAAIQ,OAAO,GAAGJ,SAAS,CAACJ,OAAO,GAAG,CAAC;QACnC;QACA;QACA,IAAI,CAACC,UAAU,CAACO,OAAO,CAAC;QACxB,IAAI,CAACP,UAAU,CAACM,OAAO,CAAC;MAC1B;MACA;MACA,IAAI,IAAI,CAAC7F,KAAK,CAACsF,OAAO,KAAKI,SAAS,CAACJ,OAAO,IAAI,CAAC,IAAI,CAACtF,KAAK,CAACiF,MAAM,IAAIS,SAAS,CAACT,MAAM,EAAE;QACtF,IAAIc,GAAG,GAAG,IAAI,CAACC,cAAc,CAACN,SAAS,CAACO,IAAI,CAACP,SAAS,CAACJ,OAAO,CAAC,EAAE,IAAI,CAACE,eAAe,CAAC;QACtF,IAAIO,GAAG,EAAE,IAAI,CAACnB,QAAQ,CAAC;UACrBE,SAAS,EAAEiB,GAAG,CAACG;QACjB,CAAC,CAAC;MACJ;;MAEA;MACA,IAAI,CAAC,IAAI,CAAClG,KAAK,CAACiF,MAAM,IAAIS,SAAS,CAACT,MAAM,IAAIS,SAAS,CAACR,mBAAmB,EAAE;QAC3EC,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACC,mBAAmB,CAAC;MAC9D;MACA,IAAI,CAACK,SAAS,CAACT,MAAM,IAAIS,SAAS,CAACR,mBAAmB,EAAE;QACtDC,MAAM,CAACgB,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACd,mBAAmB,CAAC;MACjE;MAEA,OAAO,IAAI;IACb;EACF,CAAC,EAAE;IACD9E,GAAG,EAAE,sBAAsB;IAC3BX,KAAK,EAAE,SAASwG,oBAAoBA,CAAA,EAAG;MACrC,IAAI,IAAI,CAACpG,KAAK,CAACkF,mBAAmB,EAAE;QAClCC,MAAM,CAACgB,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACd,mBAAmB,CAAC;MACjE;IACF;;IAEA;IACA;IACA;EAEF,CAAC,EAAE;IACD9E,GAAG,EAAE,YAAY;IACjBX,KAAK,EAAE,SAAS2F,UAAUA,CAACc,GAAG,EAAEC,MAAM,EAAE;MACtC,OAAO,IAAI,CAACN,cAAc,CAAC,IAAI,CAAChG,KAAK,CAACiG,IAAI,CAACI,GAAG,CAAC,EAAEC,MAAM,CAAC;IAC1D;EACF,CAAC,EAAE;IACD/F,GAAG,EAAE,gBAAgB;IACrBX,KAAK,EAAE,SAASoG,cAAcA,CAACxC,IAAI,EAAE8C,MAAM,EAAE;MAC3C,IAAI,CAAC9C,IAAI,EAAE;MAEX,IAAIuC,GAAG,GAAG,IAAIQ,KAAK,CAAC,CAAC;MACrB,IAAI9C,SAAS,GAAGF,kBAAkB,CAACC,IAAI,CAAC;;MAExC;MACAuC,GAAG,CAACS,OAAO,GAAGF,MAAM;MACpBP,GAAG,CAACO,MAAM,GAAGA,MAAM;MACnBP,GAAG,CAACU,GAAG,GAAGjD,IAAI,CAACiD,GAAG;MAElB,IAAIhD,SAAS,EAAEsC,GAAG,CAACpC,MAAM,GAAGF,SAAS;MAErC,OAAOsC,GAAG;IACZ;EACF,CAAC,EAAE;IACDxF,GAAG,EAAE,UAAU;IACfX,KAAK,EAAE,SAAS8G,QAAQA,CAACC,KAAK,EAAE;MAC9B,IAAIC,MAAM,GAAG,IAAI,CAAC5G,KAAK;QACnBsF,OAAO,GAAGsB,MAAM,CAACtB,OAAO;QACxBW,IAAI,GAAGW,MAAM,CAACX,IAAI;MACtB,IAAInB,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;MAGpC,IAAI,CAACA,SAAS,IAAIQ,OAAO,KAAKW,IAAI,CAAC/F,MAAM,GAAG,CAAC,EAAE;MAE/C,IAAIyG,KAAK,EAAE;QACTA,KAAK,CAACE,cAAc,CAAC,CAAC;QACtBF,KAAK,CAACG,eAAe,CAAC,CAAC;MACzB;MAEA,IAAI,CAAC9G,KAAK,CAAC+G,WAAW,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE;IACDxG,GAAG,EAAE,UAAU;IACfX,KAAK,EAAE,SAASoH,QAAQA,CAACL,KAAK,EAAE;MAC9B,IAAIrB,OAAO,GAAG,IAAI,CAACtF,KAAK,CAACsF,OAAO;MAChC,IAAIR,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;MAGpC,IAAI,CAACA,SAAS,IAAIQ,OAAO,KAAK,CAAC,EAAE;MAEjC,IAAIqB,KAAK,EAAE;QACTA,KAAK,CAACE,cAAc,CAAC,CAAC;QACtBF,KAAK,CAACG,eAAe,CAAC,CAAC;MACzB;MAEA,IAAI,CAAC9G,KAAK,CAACiH,WAAW,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE;IACD1G,GAAG,EAAE,eAAe;IACpBX,KAAK,EAAE,SAASsH,aAAaA,CAACP,KAAK,EAAE;MACnC,IAAIA,KAAK,CAAC5G,MAAM,CAACoH,EAAE,KAAK,gBAAgB,IAAIR,KAAK,CAAC5G,MAAM,CAACqH,OAAO,KAAK,QAAQ,EAAE;QAC7E,IAAI,CAACpH,KAAK,CAACqH,OAAO,CAAC,CAAC;MACtB;IACF;EACF,CAAC,EAAE;IACD9G,GAAG,EAAE,qBAAqB;IAC1BX,KAAK,EAAE,SAASyF,mBAAmBA,CAACsB,KAAK,EAAE;MACzC,IAAIW,OAAO,GAAGX,KAAK,CAACW,OAAO;MAE3B,IAAIA,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,EAAE,EAAE;QACtD;QACA,IAAI,CAACN,QAAQ,CAACL,KAAK,CAAC;QACpB,OAAO,IAAI;MACb,CAAC,MAAM,IAAIW,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,EAAE,EAAE;QAC7D;QACA,IAAI,CAACZ,QAAQ,CAACC,KAAK,CAAC;QACpB,OAAO,IAAI;MACb,CAAC,MAAM,IAAIW,OAAO,KAAK,EAAE,IAAIA,OAAO,KAAK,EAAE,EAAE;QAC3C;QACA,IAAI,CAACtH,KAAK,CAACqH,OAAO,CAAC,CAAC;QACpB,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd;EACF,CAAC,EAAE;IACD9G,GAAG,EAAE,iBAAiB;IACtBX,KAAK,EAAE,SAAS4F,eAAeA,CAAA,EAAG;MAChC,IAAI,CAACZ,QAAQ,CAAC;QACZE,SAAS,EAAE;MACb,CAAC,CAAC;IACJ;;IAEA;IACA;IACA;EAEF,CAAC,EAAE;IACDvE,GAAG,EAAE,iBAAiB;IACtBX,KAAK,EAAE,SAAS2H,eAAeA,CAACtD,KAAK,EAAE;MACrC,IAAI,IAAI,CAACjE,KAAK,CAACsF,OAAO,KAAK,CAAC,EAAE,OAAO,IAAI;MAEzC,OAAOrE,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAChG,OAAO,CAACgB,OAAO,EAAE;QACpDyB,KAAK,EAAEA,KAAK;QACZwD,SAAS,EAAE,MAAM;QACjBC,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,IAAI,CAACX,QAAQ;QACtBY,KAAK,EAAE,IAAI,CAAC5H,KAAK,CAAC6H,cAAc;QAChCC,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDvH,GAAG,EAAE,iBAAiB;IACtBX,KAAK,EAAE,SAASmI,eAAeA,CAAC9D,KAAK,EAAE;MACrC,IAAI,IAAI,CAACjE,KAAK,CAACsF,OAAO,KAAK,IAAI,CAACtF,KAAK,CAACiG,IAAI,CAAC/F,MAAM,GAAG,CAAC,EAAE,OAAO,IAAI;MAElE,OAAOe,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAChG,OAAO,CAACgB,OAAO,EAAE;QACpDyB,KAAK,EAAEA,KAAK;QACZwD,SAAS,EAAE,OAAO;QAClBC,IAAI,EAAE,YAAY;QAClBC,OAAO,EAAE,IAAI,CAACjB,QAAQ;QACtBkB,KAAK,EAAE,IAAI,CAAC5H,KAAK,CAACgI,eAAe;QACjCF,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDvH,GAAG,EAAE,cAAc;IACnBX,KAAK,EAAE,SAASqI,YAAYA,CAACC,QAAQ,EAAE;MACrC,IAAIC,MAAM,GAAG,IAAI;MAEjB,IAAIC,OAAO,GAAG,IAAI,CAACpI,KAAK;QACpBqI,iBAAiB,GAAGD,OAAO,CAACC,iBAAiB;QAC7CpD,MAAM,GAAGmD,OAAO,CAACnD,MAAM;QACvBqD,cAAc,GAAGF,OAAO,CAACE,cAAc;QACvCC,KAAK,GAAGH,OAAO,CAACG,KAAK;MACzB,IAAIzD,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;MAGpC,IAAI,CAACG,MAAM,EAAE,OAAOhE,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAC,MAAM,EAAE;QAAEjH,GAAG,EAAE;MAAS,CAAC,CAAC;MAE5E,IAAIiI,gBAAgB,GAAGF,cAAc,GAAG,IAAI,CAACrE,KAAK,CAACwE,SAAS,CAACC,IAAI,GAAG,IAAI,CAACzE,KAAK,CAAC0E,SAAS,CAACC,MAAM,CAACC,QAAQ,GAAG,CAAC;MAE5G,OAAO5H,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAClCzD,YAAY,CAAC+E,QAAQ,EACrB,IAAI,EACJ,UAAUC,IAAI,EAAE;QACd,IAAI9E,KAAK,GAAG8E,IAAI,CAAC9E,KAAK;UAClBC,WAAW,GAAG6E,IAAI,CAAC7E,WAAW;QAElCD,KAAK,GAAGiE,QAAQ,CAACjE,KAAK;QACtB,OAAOhD,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAClC9F,WAAW,CAACc,OAAO,EACnB;UACEyB,KAAK,EAAEA,KAAK;UACZ1D,GAAG,EAAE,MAAM;UACXoH,OAAO,EAAEU,iBAAiB,IAAIF,MAAM,CAACjB,aAAa;UAClD8B,UAAU,EAAEX,iBAAiB,IAAIF,MAAM,CAACjB;QAC1C,CAAC,EACDjG,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAC3BxG,MAAM,CAACiI,QAAQ,EACf,IAAI,EACJhI,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAC3B,KAAK,EACL;UACE0B,SAAS,EAAE,CAAC,CAAC,EAAEhI,UAAU,CAACiI,GAAG,EAAEhB,MAAM,CAAC1D,OAAO,CAAC2E,OAAO,CAAC;UACtDC,KAAK,EAAE;YACLC,YAAY,EAAEd,gBAAgB;YAC9Be,QAAQ,EAAEhB;UACZ;QACF,CAAC,EACDzD,SAAS,IAAIqD,MAAM,CAACqB,YAAY,CAACvF,KAAK,CAAC,EACvC,GAAG,EACHkE,MAAM,CAACsB,UAAU,CAACxF,KAAK,CAAC,EACxBkE,MAAM,CAACuB,aAAa,CAAC,CAAC,EACtB,GAAG,EACH5E,SAAS,IAAIqD,MAAM,CAACwB,YAAY,CAAC1F,KAAK,CACxC,CAAC,EACDa,SAAS,IAAIqD,MAAM,CAACyB,gBAAgB,CAAC3F,KAAK,CAAC,EAC3Ca,SAAS,IAAIqD,MAAM,CAACZ,eAAe,CAACtD,KAAK,CAAC,EAC1Ca,SAAS,IAAIqD,MAAM,CAACJ,eAAe,CAAC9D,KAAK,CAAC,EAC1CkE,MAAM,CAACnI,KAAK,CAAC6J,aAAa,IAAI5I,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAACpG,iBAAiB,CAACoB,OAAO,EAAE,IAAI,CAC7F,CACF,CAAC;MACH,CACF,CAAC;IACH;EACF,CAAC,EAAE;IACDjC,GAAG,EAAE,YAAY;IACjBX,KAAK,EAAE,SAAS6J,UAAUA,CAACxF,KAAK,EAAE;MAChC,IAAI6F,OAAO,GAAG,IAAI,CAAC9J,KAAK;QACpBsF,OAAO,GAAGwE,OAAO,CAACxE,OAAO;QACzBW,IAAI,GAAG6D,OAAO,CAAC7D,IAAI;QACnB8D,UAAU,GAAGD,OAAO,CAACC,UAAU;QAC/BzB,cAAc,GAAGwB,OAAO,CAACxB,cAAc;MAC3C,IAAIxD,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;MAGpC,IAAI,CAACmB,IAAI,IAAI,CAACA,IAAI,CAAC/F,MAAM,EAAE,OAAO,IAAI;MAEtC,IAAI6F,GAAG,GAAGE,IAAI,CAACX,OAAO,CAAC;MACvB,IAAI7B,SAAS,GAAGF,kBAAkB,CAACwC,GAAG,CAAC;MACvC,IAAIiE,KAAK,GAAGvG,SAAS,GAAG,OAAO,GAAG,IAAI;MAEtC,IAAIwG,cAAc,GAAG3B,cAAc,GAAGrE,KAAK,CAACwE,SAAS,CAACC,IAAI,GAAG,CAAC;MAC9D,IAAIwB,YAAY,GAAGjG,KAAK,CAACkG,MAAM,CAACC,MAAM,GAAGnG,KAAK,CAACoG,MAAM,CAACD,MAAM,GAAGH,cAAc,GAAGhG,KAAK,CAAC0E,SAAS,CAACC,MAAM,CAACC,QAAQ,GAAG,IAAI;MAEtH,OAAO5H,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAClC,QAAQ,EACR;QAAE0B,SAAS,EAAE,CAAC,CAAC,EAAEhI,UAAU,CAACiI,GAAG,EAAE,IAAI,CAAC1E,OAAO,CAAC6F,MAAM;MAAE,CAAC,EACvDrJ,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAC,KAAK,EAAE;QACnC0B,SAAS,EAAE,CAAC,CAAC,EAAEhI,UAAU,CAACiI,GAAG,EAAE,IAAI,CAAC1E,OAAO,CAACsB,GAAG,EAAEjB,SAAS,IAAI,IAAI,CAACL,OAAO,CAACK,SAAS,CAAC;QACrF6C,OAAO,EAAEoC,UAAU;QACnBC,KAAK,EAAEA,KAAK;QACZO,GAAG,EAAExE,GAAG,CAACwE,GAAG;QACZ9D,GAAG,EAAEV,GAAG,CAACU,GAAG;QACZ/C,MAAM,EAAED,SAAS;QACjB4F,KAAK,EAAE;UACLmB,MAAM,EAAET,UAAU,GAAG,SAAS,GAAG,MAAM;UACvCU,SAAS,EAAE,eAAe,GAAGP;QAC/B;MACF,CAAC,CACH,CAAC;IACH;EACF,CAAC,EAAE;IACD3J,GAAG,EAAE,kBAAkB;IACvBX,KAAK,EAAE,SAASgK,gBAAgBA,CAAC3F,KAAK,EAAE;MACtC,IAAIyG,OAAO,GAAG,IAAI,CAAC1K,KAAK;QACpBiG,IAAI,GAAGyE,OAAO,CAACzE,IAAI;QACnBX,OAAO,GAAGoF,OAAO,CAACpF,OAAO;QACzBuC,cAAc,GAAG6C,OAAO,CAAC7C,cAAc;QACvCG,eAAe,GAAG0C,OAAO,CAAC1C,eAAe;QACzC2C,gBAAgB,GAAGD,OAAO,CAACC,gBAAgB;QAC3CrC,cAAc,GAAGoC,OAAO,CAACpC,cAAc;QACvCsC,eAAe,GAAGF,OAAO,CAACE,eAAe;MAG7C,IAAI,CAACtC,cAAc,EAAE,OAAO,IAAI;MAEhC,OAAOrH,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAACxF,qBAAqB,CAACQ,OAAO,EAAE;QAClEyB,KAAK,EAAEA,KAAK;QACZ4G,SAAS,EAAEhD,cAAc;QACzBiD,UAAU,EAAE9C,eAAe;QAC3B1C,OAAO,EAAEA,OAAO;QAChBW,IAAI,EAAEA,IAAI;QACV8E,MAAM,EAAEH,eAAe;QACvBD,gBAAgB,EAAEA;MACpB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACDpK,GAAG,EAAE,cAAc;IACnBX,KAAK,EAAE,SAAS4J,YAAYA,CAACvF,KAAK,EAAE;MAClC,IAAI+G,OAAO,GAAG,IAAI,CAAChL,KAAK;QACpBiL,aAAa,GAAGD,OAAO,CAACC,aAAa;QACrCC,cAAc,GAAGF,OAAO,CAACE,cAAc;QACvC7D,OAAO,GAAG2D,OAAO,CAAC3D,OAAO;QACzB8D,YAAY,GAAGH,OAAO,CAACG,YAAY;MAGvC,OAAOlK,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAC1F,QAAQ,CAACU,OAAO,EAAE;QACrDyB,KAAK,EAAEA,KAAK;QACZiH,cAAc,EAAEA,cAAc;QAC9B7D,OAAO,EAAEA,OAAO;QAChB8D,YAAY,EAAEA,YAAY;QAC1BF,aAAa,EAAEA;MACjB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACD1K,GAAG,EAAE,cAAc;IACnBX,KAAK,EAAE,SAAS+J,YAAYA,CAAC1F,KAAK,EAAE;MAClC,IAAImH,OAAO,GAAG,IAAI,CAACpL,KAAK;QACpBsF,OAAO,GAAG8F,OAAO,CAAC9F,OAAO;QACzBW,IAAI,GAAGmF,OAAO,CAACnF,IAAI;QACnBoF,iBAAiB,GAAGD,OAAO,CAACC,iBAAiB;QAC7CC,YAAY,GAAGF,OAAO,CAACE,YAAY;MAGvC,IAAI,CAACrF,IAAI,IAAI,CAACA,IAAI,CAAC/F,MAAM,EAAE,OAAO,IAAI;MAEtC,OAAOe,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAAC5F,QAAQ,CAACY,OAAO,EAAE;QACrDyB,KAAK,EAAEA,KAAK;QACZsH,OAAO,EAAEtF,IAAI,CAACX,OAAO,CAAC,CAACiG,OAAO;QAC9BC,SAAS,EAAElG,OAAO,GAAG,CAAC;QACtBmG,cAAc,EAAEJ,iBAAiB;QACjCK,UAAU,EAAEzF,IAAI,CAAC/F,MAAM;QACvByL,SAAS,EAAEL;MACb,CAAC,CAAC;IACJ;EACF,CAAC,EAAE;IACD/K,GAAG,EAAE,eAAe;IACpBX,KAAK,EAAE,SAAS8J,aAAaA,CAAA,EAAG;MAC9B,IAAIkC,OAAO,GAAG,IAAI,CAAC5L,KAAK;QACpB6L,OAAO,GAAGD,OAAO,CAACC,OAAO;QACzBC,eAAe,GAAGF,OAAO,CAACE,eAAe;QACzCC,YAAY,GAAGH,OAAO,CAACG,YAAY;QACnCC,WAAW,GAAGJ,OAAO,CAACI,WAAW;MACrC,IAAIlH,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;MAEpC,IAAImH,OAAO,GAAGJ,OAAO;MACrB,IAAIC,eAAe,EAAE,OAAO,IAAI;MAChC,OAAO7K,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAClC,KAAK,EACL;QACE0B,SAAS,EAAE,CAAC,CAAC,EAAEhI,UAAU,CAACiI,GAAG,EAAE,IAAI,CAAC1E,OAAO,CAACoH,OAAO,EAAE,CAAC/G,SAAS,IAAI,IAAI,CAACL,OAAO,CAACyH,aAAa;MAC/F,CAAC,EACDjL,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAACyE,OAAO,EAAE;QAAEE,KAAK,EAAEJ,YAAY;QAAErD,IAAI,EAAEsD;MAAY,CAAC,CACnF,CAAC;IACH;EACF,CAAC,EAAE;IACDzL,GAAG,EAAE,QAAQ;IACbX,KAAK,EAAE,SAASwM,MAAMA,CAAA,EAAG;MACvB,OAAOnL,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAClCzD,YAAY,CAACsI,QAAQ,EACrB;QAAEzM,KAAK,EAAE,IAAI,CAACiF;MAAM,CAAC,EACrB5D,OAAO,CAACuB,OAAO,CAACgF,aAAa,CAC3BtF,QAAQ,CAACM,OAAO,EAChB,IAAI,EACJ,GAAG,EACH,IAAI,CAACyF,YAAY,CAAC,IAAI,CAACpD,KAAK,CAAC,EAC7B,GACF,CACF,CAAC;IACH;EACF,CAAC,CAAC,CAAC;EAEH,OAAOT,UAAU;AACnB,CAAC,CAACpD,MAAM,CAACsL,SAAS,CAAC;AAEnBlI,UAAU,CAACmI,SAAS,GAAG;EACrBlE,iBAAiB,EAAEvH,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EAC3CvB,aAAa,EAAEnK,WAAW,CAAC0B,OAAO,CAACiK,MAAM;EACzCnH,OAAO,EAAExE,WAAW,CAAC0B,OAAO,CAACkK,MAAM;EACnCxB,cAAc,EAAEpK,WAAW,CAAC0B,OAAO,CAACmK,OAAO,CAAC7L,WAAW,CAAC0B,OAAO,CAACoK,IAAI,CAAC;EACrE1H,mBAAmB,EAAEpE,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EAC7CnB,iBAAiB,EAAEvK,WAAW,CAAC0B,OAAO,CAACiK,MAAM;EAC7CxG,IAAI,EAAEnF,WAAW,CAAC0B,OAAO,CAACmK,OAAO,CAAC7L,WAAW,CAAC0B,OAAO,CAACqK,KAAK,CAAC;IAC1DpG,GAAG,EAAE3F,WAAW,CAAC0B,OAAO,CAACiK,MAAM,CAACK,UAAU;IAC1CpJ,MAAM,EAAE5C,WAAW,CAAC0B,OAAO,CAACuK,SAAS,CAAC,CAACjM,WAAW,CAAC0B,OAAO,CAACwK,KAAK,EAAElM,WAAW,CAAC0B,OAAO,CAACiK,MAAM,CAAC,CAAC;IAC9FlB,OAAO,EAAEzK,WAAW,CAAC0B,OAAO,CAACuK,SAAS,CAAC,CAACjM,WAAW,CAAC0B,OAAO,CAACiK,MAAM,EAAE3L,WAAW,CAAC0B,OAAO,CAACyK,OAAO,CAAC,CAAC;IACjGxE,SAAS,EAAE3H,WAAW,CAAC0B,OAAO,CAACiK;EACjC,CAAC,CAAC,CAAC,CAACK,UAAU;EACd7H,MAAM,EAAEnE,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EAChC3E,cAAc,EAAE/G,WAAW,CAAC0B,OAAO,CAACiK,MAAM;EAC1C1C,UAAU,EAAEjJ,WAAW,CAAC0B,OAAO,CAAC0K,IAAI;EACpCnG,WAAW,EAAEjG,WAAW,CAAC0B,OAAO,CAAC0K,IAAI;EACrCjG,WAAW,EAAEnG,WAAW,CAAC0B,OAAO,CAAC0K,IAAI;EACrCvC,gBAAgB,EAAE7J,WAAW,CAAC0B,OAAO,CAAC0K,IAAI;EAC1C7F,OAAO,EAAEvG,WAAW,CAAC0B,OAAO,CAAC0K,IAAI,CAACJ,UAAU;EAC5ClH,cAAc,EAAE9E,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACxC3C,aAAa,EAAE/I,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACvCxE,eAAe,EAAElH,WAAW,CAAC0B,OAAO,CAACiK,MAAM;EAC3CtB,YAAY,EAAErK,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACtClB,YAAY,EAAExK,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACtClE,cAAc,EAAExH,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACxCV,eAAe,EAAEhL,WAAW,CAAC0B,OAAO,CAACgK,IAAI;EACzCX,OAAO,EAAE/K,WAAW,CAAC0B,OAAO,CAAC0K,IAAI;EACjCnB,YAAY,EAAEjL,WAAW,CAAC0B,OAAO,CAACiK,MAAM;EACxCT,WAAW,EAAElL,WAAW,CAAC0B,OAAO,CAACkK,MAAM;EACvCzI,KAAK,EAAEnD,WAAW,CAAC0B,OAAO,CAAC2K,MAAM;EACjCvC,eAAe,EAAE9J,WAAW,CAAC0B,OAAO,CAACkK,MAAM;EAC3CnE,KAAK,EAAEzH,WAAW,CAAC0B,OAAO,CAACkK;AAC7B,CAAC;AACDtI,UAAU,CAACgJ,YAAY,GAAG;EACxB9H,OAAO,EAAE,CAAC;EACVJ,mBAAmB,EAAE,IAAI;EACzBmG,iBAAiB,EAAE,KAAK;EACxBgC,kBAAkB,EAAE,IAAI;EACxBzH,cAAc,EAAE,IAAI;EACpBiE,aAAa,EAAE,IAAI;EACnBsB,YAAY,EAAE,IAAI;EAClBG,YAAY,EAAE,IAAI;EAClBQ,eAAe,EAAE,KAAK;EACtBD,OAAO,EAAEzJ,SAAS,CAACI,OAAO;EAC1BuJ,YAAY,EAAE,MAAM;EACpBC,WAAW,EAAE,EAAE;EACf/H,KAAK,EAAE,CAAC,CAAC;EACT2G,eAAe,EAAE,CAAC;EAClBrC,KAAK,EAAE;AACT,CAAC;AAED,IAAI5D,aAAa,GAAG;EAClByE,OAAO,EAAE;IACPkE,QAAQ,EAAE;EACZ,CAAC;EACDhD,MAAM,EAAE;IACNiD,MAAM,EAAE,CAAC,CAAC;EACZ,CAAC;;EACDxH,GAAG,EAAE;IACHyH,OAAO,EAAE,OAAO;IAAE;IAClBpD,MAAM,EAAE,MAAM;IACdmD,MAAM,EAAE,QAAQ;IAAE;IAClBhE,QAAQ,EAAE,MAAM;IAEhB;IACAkE,kBAAkB,EAAE,MAAM;IAC1BC,UAAU,EAAE,MAAM;IAElB;IACAC,OAAO,EAAE,CAAC;IACVC,UAAU,EAAE;EACd,CAAC;EACD9I,SAAS,EAAE;IACT6I,OAAO,EAAE;EACX,CAAC;EACD9B,OAAO,EAAE;IACPyB,QAAQ,EAAE,UAAU;IACpBO,GAAG,EAAE,KAAK;IACVC,IAAI,EAAE,KAAK;IACXC,SAAS,EAAE,uBAAuB;IAElC;IACAJ,OAAO,EAAE,CAAC;IACVC,UAAU,EAAE,aAAa;IACzBI,aAAa,EAAE;EACjB,CAAC;EACD9B,aAAa,EAAE;IACbyB,OAAO,EAAE;EACX;AACF,CAAC;AAEDhO,OAAO,CAAC6C,OAAO,GAAG4B,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}